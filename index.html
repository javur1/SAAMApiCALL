<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Llama a la API</title>
    <script
        src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous"></script>
    
</head>
<body>
    <h1>Llama a la API</h1>
    <!-- Como llamo una webAPI? -->
    <input class="APICALL" type="button" value="DO IT">
    <script>
        $(".APICALL").on(
            "click",function(){
                $.ajax({
                    method: 'POST',
                    url: 'https://megafysadev.appiancloud.com/suite/webapi/cambiarEstado',
                    contentType: 'application/json',
                    data: JSON.stringify(
                        {
                            "idFlujo":1,
                            "observacion": "Hola Mundo",
                            "respuesta": "Aprobado"
                        }
                    ),
                    headers: {'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1MWY0Mjk2Ni00NDMzLTI0YmItMDIzOS1mMTQ2ZGU5NGRlYWEifQ.lbT1VE3ktt5qBSg-kLTXBQt0h9uzJtwGsNfZOJhZ6Vg'},
                    success: (data) => {
                        console.log("Datos enviados a 3ro con exito", data);
                    },
                }).done(function () {
                    console.log("Envio de datos a 3ro completado")
                }).fail(function (data) {
                    console.log('llamar a Url Callback fail', data)
                });
    
            }
        )    
        
        </script>
</body>
</html>